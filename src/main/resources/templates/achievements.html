<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">

<h1 class="text-3xl font-bold text-gray-800 mb-6">
    –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
    <span th:text="${worker.surname + ' ' + worker.name + ' ' + worker.patronymicName}"></span>
</h1>

<!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
<form method="get" th:action="@{/workers/view/{workerId}/achievements(workerId=${worker.id})}" class="mb-4 flex gap-4 items-center">
    <label class="font-semibold">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ:</label>
    <select name="sort" class="border rounded-lg px-4 py-2 shadow-sm">
        <option value="asc" th:selected="${sort == 'asc'}">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
        <option value="desc" th:selected="${sort == 'desc'}">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
    </select>
    <button type="submit"
            class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
        –ü—Ä–∏–º–µ–Ω–∏—Ç—å
    </button>
</form>

<!-- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ -->
<div class="mb-4">
    <a th:href="@{/workers/view/{workerId}/achievements/add(workerId=${worker.id})}"
       class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ
    </a>
</div>

<!-- –¢–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
<div class="bg-white shadow-md rounded-xl p-4 border border-gray-200">
    <h3 class="text-lg font-semibold text-gray-800 mb-3">–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</h3>
    <table class="w-full text-sm text-center border border-gray-300">
        <thead>
        <tr class="bg-gray-200">
            <th class="px-3 py-2 border border-gray-300">–û–ø–∏—Å–∞–Ω–∏–µ</th>
            <th class="px-3 py-2 border border-gray-300">–î–∞—Ç–∞</th>
            <th class="px-3 py-2 border border-gray-300">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="achievement : ${achievements}">
            <td class="px-3 py-2 border border-gray-300 text-left"
                th:text="${achievement.description}"></td>
            <td class="px-3 py-2 border border-gray-300"
                th:text="${#temporals.format(achievement.date, 'dd.MM.yyyy')}"></td>
            <td class="px-3 py-2 border border-gray-300 flex gap-2 justify-center">
                <a th:href="@{/workers/view/{workerId}/achievements/{achievementId}/edit(workerId=${worker.id}, achievementId=${achievement.id})}"
                   class="bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded-lg shadow">
                    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </a>
                <form th:action="@{/workers/view/{workerId}/achievements/{achievementId}/delete(workerId=${worker.id}, achievementId=${achievement.id})}"
                      method="post" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ?');">
                    <button type="submit"
                            class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg shadow">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(achievements)}">
            <td colspan="3" class="px-3 py-2 border border-gray-300 text-center text-gray-500 italic">
                –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥ –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É" -->
<div class="mt-2 mb-6">
    <a th:href="@{/workers/view/{workerId}(workerId=${worker.id})}"
       class="inline-block bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg">
        ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É
    </a>
</div>