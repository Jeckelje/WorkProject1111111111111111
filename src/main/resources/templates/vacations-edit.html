<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—É—Å–∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">

<h1 class="text-3xl font-bold text-gray-800 mb-6">
    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—É—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: <span th:text="${vacation.workerId}"></span>
</h1>

<form th:action="@{/workers/view/{workerId}/vacations/{vacationId}/edit(workerId=${workerId}, vacationId=${vacation.id})}"
      th:object="${vacation}" method="post"
      onsubmit="return validateDates()"
      class="bg-white p-6 rounded-xl shadow-md w-1/2">

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <label class="block mb-2 font-semibold text-gray-700">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞</label>
    <input type="text" th:field="*{title}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ï–∂–µ–≥–æ–¥–Ω—ã–π –æ—Ç–ø—É—Å–∫"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <!-- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ -->
    <label class="block mb-2 font-semibold text-gray-700">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
    <input type="date" id="startDate" th:field="*{start}"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <!-- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è -->
    <label class="block mb-2 font-semibold text-gray-700">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
    <input type="date" id="endDate" th:field="*{end}"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <!-- –û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ) -->
    <label class="block mb-2 font-semibold text-gray-700">–û–ø–∏—Å–∞–Ω–∏–µ</label>
    <textarea th:field="*{description}" placeholder="(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
              class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm"></textarea>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="flex gap-4 mt-4">
        <button type="submit"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
        </button>
        <a th:href="@{/workers/view/{workerId}/vacations(workerId=${workerId})}"
           class="bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition">
            ‚ùå –û—Ç–º–µ–Ω–∞
        </a>
    </div>
</form>

<script>
    function validateDates() {
        const start = document.getElementById("startDate").value;
        const end = document.getElementById("endDate").value;

        if (start && end && new Date(end) < new Date(start)) {
            alert("–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞!");
            return false; // –æ—Ç–º–µ–Ω—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã
        }
        return true;
    }
</script>

</body>
</html>
