<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">

<h1 class="text-3xl font-bold text-gray-800 mb-6">
    –î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É: <span th:text="${qualification.workerId}"></span>
</h1>

<form th:action="@{/workers/view/{workerId}/qualifications/add(workerId=${qualification.workerId})}"
      th:object="${qualification}" method="post"
      onsubmit="return validateDates()"
      class="bg-white p-6 rounded-xl shadow-md w-1/2">

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

    <label class="block mb-2 font-semibold text-gray-700">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</label>
    <input type="text" th:field="*{title}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –≠–†–£"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <label class="block mb-2 font-semibold text-gray-700">–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è</label>
    <input type="date" id="startDate" th:field="*{start}"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <label class="block mb-2 font-semibold text-gray-700">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
    <input type="date" id="endDate" th:field="*{end}"
           class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm" required>

    <label class="block mb-2 font-semibold text-gray-700">–û–ø–∏—Å–∞–Ω–∏–µ</label>
    <textarea th:field="*{description}" placeholder="(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
              class="w-full border rounded-lg px-3 py-2 mb-4 shadow-sm"></textarea>

    <div class="flex gap-4 mt-4">
        <button type="submit"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
        </button>
        <a th:href="@{/workers/view/{workerId}/qualifications(workerId=${qualification.workerId})}"
           class="bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition">
            ‚ùå –û—Ç–º–µ–Ω–∞
        </a>
    </div>
</form>

<script>
    function validateDates() {
        const start = document.getElementById("startDate").value;
        const end = document.getElementById("endDate").value;
        if (start && end && new Date(end) < new Date(start)) {
            alert("–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è!");
            return false;
        }
        return true;
    }
</script>

</body>
</html>
